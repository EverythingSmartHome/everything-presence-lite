<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <style type="text/css"> .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(5) > .nav-list > .nav-list-item:nth-child(2) > .nav-list-link { display: block; font-weight: 600; text-decoration: none; background-image: linear-gradient(-90deg, #ebedf5 0%, rgba(235, 237, 245, 0.8) 80%, rgba(235, 237, 245, 0) 100%); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list-expander svg, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list > .nav-list-item:nth-child(2) > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(5) > .nav-list > .nav-list-item:nth-child(2) > .nav-list { display: block; } .site-nav > .nav-category-list > .nav-list-item > .nav-list-expander svg { transform: rotate(-90deg); } .site-nav > .nav-category-list > .nav-list-item > .nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Home Assistant Entities | Everything Presence Lite</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Home Assistant Entities" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for the Everything Presence Lite!" /> <meta property="og:description" content="Documentation for the Everything Presence Lite!" /> <link rel="canonical" href="https://everythingsmarthome.github.io/everything-presence-lite/Home%20Assistant/home-assistant-entities.html" /> <meta property="og:url" content="https://everythingsmarthome.github.io/everything-presence-lite/Home%20Assistant/home-assistant-entities.html" /> <meta property="og:site_name" content="Everything Presence Lite" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Home Assistant Entities" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation for the Everything Presence Lite!","headline":"Home Assistant Entities","url":"https://everythingsmarthome.github.io/everything-presence-lite/Home%20Assistant/home-assistant-entities.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Everything Presence Lite </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/hardware-overview.html" class="nav-list-link">Hardware Overview</a></li><li class="nav-list-item"><a href="/assembly.html" class="nav-list-link">Assembly</a></li><li class="nav-list-item"><a href="/updating.html" class="nav-list-link">Updating and Connecting to WiFi</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Home Assistant category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/home-assistant" class="nav-list-link">Home Assistant</a><ul class="nav-list"><li class="nav-list-item"><a href="/Home%20Assistant/connecting-home-assistant.html" class="nav-list-link">Connecting Home Assistant</a></li><li class="nav-list-item"><a href="/Home%20Assistant/home-assistant-entities.html" class="nav-list-link">Home Assistant Entities</a></li></ul></li><li class="nav-list-item"><a href="/tuning.html" class="nav-list-link">Tuning</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Advanced Features category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/advanced-features" class="nav-list-link">Advanced Features</a><ul class="nav-list"><li class="nav-list-item"><a href="/Advanced%20Features/editing-esphome-code.html" class="nav-list-link">Editing ESPHome Code</a></li></ul></li><li class="nav-list-item"><a href="/troubleshooting.html" class="nav-list-link">Troubleshooting</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Everything Presence Lite" aria-label="Search Everything Presence Lite" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <meta property="og:url" content="https://everythingsmarthome.github.io/everything-presence-one/" /> <meta property="og:type" content="website" /> <meta property="og:description" content="User guide and documentation for the Everything Presence One." /> <meta property="og:image" content="https://everythingsmarthome.github.io/everything-presence-one/images/assembly-complete.jpg" /> <meta name="twitter:card" content="summary_large_image" /> <meta name="twitter:site" content="@everysmarthome" /> <meta name="twitter:title" content="Everything Presence One - User Guide" /> <meta name="twitter:description" content="User guide and documentation for the Everything Presence One." /> <meta name="twitter:image" content="https://everythingsmarthome.github.io/everything-presence-one/images/assembly-complete.jpg" /> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/EverythingSmartHome/everything-presence-lite" class="site-button" > View on GitHub </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/home-assistant">Home Assistant</a></li> <li class="breadcrumb-nav-list-item"><span>Home Assistant Entities</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="home-assistant-entities-explained"> <a href="#home-assistant-entities-explained" class="anchor-heading" aria-labelledby="home-assistant-entities-explained"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Home Assistant Entities Explained </h1> <p class="no_toc fs-6 fw-300">What are all of these entities!?</p> <h2 id="home-assistant-entities"> <a href="#home-assistant-entities" class="anchor-heading" aria-labelledby="home-assistant-entities"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Home Assistant Entities </h2> <p class="warning">This page is not up to date yet and still contains screenshots from the Everything Presence One, rather than the Lite - working on updating it very soon!</p> <p>After adding the Lite to Home Assistant, you may wonder which sensors you can use and what they do.</p> <p>To view all of the sensors and entities, click on the device from the ESPHome menu:</p> <p><img src="../images/home-assistant-devices.png" alt="Home Assistant Device menu" /></p> <p>This will show you a dashboard of all of the sensors and controls inside of Home Assistant that you can use in your Automations:</p> <p><img src="../images/home-assistant-entities-overview.png" alt="All Home Assistant Entities" /></p> <h3 id="illuminance"> <a href="#illuminance" class="anchor-heading" aria-labelledby="illuminance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Illuminance </h3> <p>Illuminance is measured from the on-board light sensor in lux. There are slots at the top of the Lite case that allow for light to pass-through and be measured, so make sure not to obstruct these for the best readings.</p> <p><img src="../images/home-assistant-entities-illuminance.jpg" alt="Home Assistant Illuminance Entity" /></p> <p>Illuminance supports a configurable offset using the UI which allows you to offset the reported value on the fly to calibrate each of these sensors for your environment. You can do that with these highlighted controls under the configuration section:</p> <p><img src="../images/home-assistant-entities-offset-controls.png" alt="Home Assistant Offset Entities" /></p> <h3 id="mmwave"> <a href="#mmwave" class="anchor-heading" aria-labelledby="mmwave"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> mmWave </h3> <p>You will find a sensor called mmWave - this is the output from the mmWave sensor directly and indicates if movement is detected. The mmWave sensor has a configurable offset for the “Blind time” which we will cover below. The default blind time is 15 seconds, which is basically how long the sensor takes to go to an “Off” or “clear” state after motion has stopped being detected:</p> <p><img src="../images/home-assistant-entities-mmwave.jpg" alt="Home Assistant mmWave Sensor Entity" /></p> <h3 id="offsets-for-mmwave"> <a href="#offsets-for-mmwave" class="anchor-heading" aria-labelledby="offsets-for-mmwave"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Offsets for mmWave </h3> <p>The mmWave sensor has an adjustable timeout period inside of Home Assistant using the mmWave Off Latency control. The value is measured in seconds and the default is for 15 seconds. I generally wouldn’t recommend setting this below 10s to help with false clearing.</p> <p><img src="../images/home-assistant-entities-mmwave-offset.jpg" alt="Home Assistant mmWave Offset Entity" /></p> <h3 id="distance"> <a href="#distance" class="anchor-heading" aria-labelledby="distance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Distance </h3> <p>The mmWave sensor has a configurable distance control inside of Home Assistant.</p> <p>Distance allows you to adjust the max range of the sensor, up to a maximum of 6m. Please note that 6m is the max range, but doesn’t nessecarily mean the sensor is capable of detecting the tiniest of movements at 6m - placement is still important for the best results - see the <a href="./tuning.html">tuning guide</a> for more information:</p> <p><img src="../images/home-assistant-entities-mmwave-distance.jpg" alt="Home Assistant mmWave distance Entity" /></p> <p><img src="../images/home-assistant-entities-distance-zone-1.jpg" alt="Home Assistant Distance Zone 1 Entities" /></p> <p>If you would like to enable zones 2, 3 and 4, simply click on the entities not shown message:</p> <p><img src="../images/home-assistant-entities-distance-entities-not-shown.png" alt="Home Assistant Distance Zone Entities" /></p> <p>To reveal entities that are disabled by default:</p> <p><img src="../images/home-assistant-entities-disabled-reveal.png" alt="Home Assistant Disabled Entities" /></p> <p>Click the entity you want to enable, then click the settings icon in the right hand corner of the popup. Then enable the entity:</p> <p><img src="../images/home-assistant-entities-enabling-toggle.png" alt="Home Assistant Enabling Entities" /></p> <p>Wait 30 seconds, refresh the page and the entity is now enabled. Repeat this for each entity you want to enable (start and end zone for example).</p> <p>To setup distance zones, set a start and an end distance for each zone you want to monitor. If you do not want to use one of the zones, leave both the start and the end point set to zero. This is important!</p> <p>This is very much in beta, so some rules to keep in mind:</p> <ul> <li>Zones cannot overlap each other</li> <li>The distance of a zone must be a greater distance than the previous zone. I.e, Zone 2 must not have a lower start and end distance than Zone 1.</li> <li>If you don’t want to use one or multiple zones, leave the start and end distance set to 0 and it will not be included.</li> <li>If you want to replicate the previous functionality, i.e you want the sensor to measure everything from 0cm to 510cm, set zone 1 start to 0cm and the end to 510cm. Then set zone 2, zone 3 and zone 4 start and end point to 0.</li> </ul> <p>You MUST then hit the “set distance” button in the UI for these zones to take effect. Previously, the updated value for distance would be set to the sensor immediately as soon as you changed the slider. This is no longer the case and the set distance button must be used before new values will be sent to the sensor. This is because updating the sliders immediately could cause the sensor to get confused if the user hasn’t quite finished setting up the zones yet.</p> <p>If you make a mistake configuring the zones, the sensor won’t accept the value and nothing will change, but the UI sliders will indicate it has, making it difficult to know. This is a beta/advanced feature so I do want to improve the feedback from the sensor for this to make it more obvious if something didn’t work, but there is a text sensor that will update to show you if the zones were sent correctly or not:</p> <p><img src="../images/home-assistant-entities-distance-status.png" alt="Home Assistant Enabling Entities" /></p> <p>The numbers in the error message are “segments” of the distance set above. The first number is zone 1 start, second number is zone 1 end, third number is zone 2 start, fourth is zone 2 end and so on. These numbers can be multiplied by 15 to get the value in cm, corresponding to what you set in the sliders. Confusing/complicated I know, working on it.</p> <h3 id="turning-off-leds"> <a href="#turning-off-leds" class="anchor-heading" aria-labelledby="turning-off-leds"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Turning off LEDs </h3> <p>The Lite has an LED on the PCB that can be controlled:</p> <p><img src="../images/home-assistant-entities-led-controls.jpg" alt="Home Assistant LED Controls" /></p> <script> const toggleDarkMode = document.querySelector('.js-toggle-dark-mode'); jtd.addEvent(toggleDarkMode, 'click', function(){ if (jtd.getTheme() === 'dark') { jtd.setTheme('light'); toggleDarkMode.textContent = 'Preview dark color scheme'; } else { jtd.setTheme('dark'); toggleDarkMode.textContent = 'Return to the light side'; } }); </script> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <p class="text-small text-grey-dk-100 mb-0"></p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
